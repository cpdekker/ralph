# Ralph Wiggum Docker Compose
# Usage: docker-compose -f .ralph/docker/docker-compose.yml run --rm ralph

services:
  ralph:
    build:
      context: ../..
      dockerfile: .devcontainer/Dockerfile
    container_name: ralph-wiggum
    stdin_open: true
    tty: true
    working_dir: /workspace
    cap_add:
      - NET_ADMIN
      - NET_RAW
    env_file:
      - ../.env
    volumes:
      - ../..:/workspace
    deploy:
      resources:
        limits:
          cpus: '4'
          memory: 8G
    command: bash
